@model MediCareCMS.ViewModels.Pharmacist.PatientHistoryVM
@{
    ViewData["Title"] = "Patient History";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

<div class="container mt-4">
    <h2>👤 History for: @Model.PatientName</h2>
    <hr />

    @if (Model.Prescriptions.Count == 0)
    {
        <div class="alert alert-warning">No prescription history found.</div>
    }
    else
    {
        foreach (var p in Model.Prescriptions)
        {
            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title">Prescription #@p.PrescriptionId</h5>
                    <p><b>Date:</b> @p.CreatedAt.ToString("dd MMM yyyy")</p>
                    <p><b>Symptoms:</b> @p.Symptoms</p>
                    <p><b>Diagnosis:</b> @p.Diagnosis</p>
                </div>
            </div>
        }
    }

    <a asp-action="Dashboard" class="btn btn-secondary mt-3">↩️ Back to Dashboard</a>
</div>
